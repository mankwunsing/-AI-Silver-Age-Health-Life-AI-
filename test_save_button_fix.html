<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿å­˜æŒ‰éˆ•ä¿®å¾©æ¸¬è©¦</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        .input-field {
            @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent;
        }
        .card {
            @apply bg-white rounded-xl shadow-lg p-6;
        }
        .bg-primary {
            background-color: #3B82F6;
        }
        .bg-primary:hover {
            background-color: #2563EB;
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">ä¿å­˜æŒ‰éˆ•ä¿®å¾©æ¸¬è©¦</h1>
        
        <!-- æ¨¡æ“¬ä¿®å¾©å¾Œçš„æ™ºèƒ½è¨­å‚™æ•¸æ“šéŒ„å…¥ -->
        <div class="card mb-5">
            <div class="card-header">
                <h3 class="text-xl font-bold text-gray-800">æ™ºèƒ½è®¾å¤‡æ•°æ®å½•å…¥</h3>
                <p class="text-sm text-gray-600 mt-1">æ”¯æŒè¡€å‹è®¡ã€è¡€æ°§è®¡ã€æ¸©åº¦è®¡ç­‰è®¾å¤‡æ•°æ®</p>
            </div>
            
            <!-- è®¾å¤‡é€‰æ‹©æ ‡ç­¾é¡µ -->
            <div class="mb-4">
                <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg">
                    <button id="tab-bp" onclick="switchDeviceTab('bp')" class="flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors bg-white text-blue-600 shadow-sm">
                        <i class="fa fa-heartbeat mr-2"></i>è¡€å‹è®¡
                    </button>
                    <button id="tab-spo2" onclick="switchDeviceTab('spo2')" class="flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors text-gray-600 hover:text-gray-800">
                        <i class="fa fa-tint mr-2"></i>è¡€æ°§è®¡
                    </button>
                    <button id="tab-temp" onclick="switchDeviceTab('temp')" class="flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors text-gray-600 hover:text-gray-800">
                        <i class="fa fa-thermometer-half mr-2"></i>æ¸©åº¦è®¡
                    </button>
                </div>
            </div>

            <!-- è¡€å‹è®¡æ•°æ®å½•å…¥ -->
            <div id="device-bp" class="device-form">
                <div class="bg-green-50 border-l-4 border-green-400 p-3 rounded mb-4">
                    <p class="text-sm text-green-700">
                        <i class="fa fa-info-circle mr-1"></i>
                        å¡«å¯«å®Œè¡€å£“æ•¸æ“šå¾Œï¼Œè«‹å‘ä¸‹æ»¾å‹•æŸ¥çœ‹ä¿å­˜æŒ‰éˆ•
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-heart text-red-500 mr-1"></i>æ”¶ç¼©å‹ (SYS)
                        </label>
                        <div class="relative">
                            <input type="number" id="bp-systolic" placeholder="120" class="input-field pr-8" min="60" max="250">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">mmHg</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-heart text-blue-500 mr-1"></i>èˆ’å¼ å‹ (DIA)
                        </label>
                        <div class="relative">
                            <input type="number" id="bp-diastolic" placeholder="80" class="input-field pr-8" min="40" max="150">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">mmHg</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-heartbeat text-green-500 mr-1"></i>è„‰æ (PULSE)
                        </label>
                        <div class="relative">
                            <input type="number" id="bp-pulse" placeholder="72" class="input-field pr-8" min="30" max="200">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">bpm</span>
                        </div>
                    </div>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg mb-4">
                    <div class="flex items-center">
                        <i class="fa fa-info-circle text-blue-500 mr-2"></i>
                        <span class="text-sm text-blue-700">è¡€å‹è¯„ä¼°ï¼š</span>
                        <span id="bp-assessment" class="text-sm font-medium text-blue-800 ml-2">è¯·è¾“å…¥æ•°æ®</span>
                    </div>
                </div>
            </div>

            <!-- è¡€æ°§è®¡æ•°æ®å½•å…¥ -->
            <div id="device-spo2" class="device-form hidden">
                <div class="bg-green-50 border-l-4 border-green-400 p-3 rounded mb-4">
                    <p class="text-sm text-green-700">
                        <i class="fa fa-info-circle mr-1"></i>
                        å¡«å¯«å®Œè¡€æ°§æ•¸æ“šå¾Œï¼Œè«‹å‘ä¸‹æ»¾å‹•æŸ¥çœ‹ä¿å­˜æŒ‰éˆ•
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-tint text-red-500 mr-1"></i>è¡€æ°§é¥±å’Œåº¦ (%SpO2)
                        </label>
                        <div class="relative">
                            <input type="number" id="spo2-percent" placeholder="98" class="input-field pr-8" min="70" max="100" step="0.1">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">%</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-signal text-orange-500 mr-1"></i>çŒæ³¨æŒ‡æ•° (PI%)
                        </label>
                        <div class="relative">
                            <input type="number" id="spo2-pi" placeholder="2.5" class="input-field pr-8" min="0.1" max="20" step="0.1">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">%</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-heartbeat text-green-500 mr-1"></i>è„‰æç‡ (PR)
                        </label>
                        <div class="relative">
                            <input type="number" id="spo2-pr" placeholder="72" class="input-field pr-8" min="30" max="200">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">bpm</span>
                        </div>
                    </div>
                </div>
                <div class="bg-green-50 p-3 rounded-lg mb-4">
                    <div class="flex items-center">
                        <i class="fa fa-info-circle text-green-500 mr-2"></i>
                        <span class="text-sm text-green-700">è¡€æ°§è¯„ä¼°ï¼š</span>
                        <span id="spo2-assessment" class="text-sm font-medium text-green-800 ml-2">è¯·è¾“å…¥æ•°æ®</span>
                    </div>
                </div>
            </div>

            <!-- æ¸©åº¦è®¡æ•°æ®å½•å…¥ -->
            <div id="device-temp" class="device-form hidden">
                <div class="bg-green-50 border-l-4 border-green-400 p-3 rounded mb-4">
                    <p class="text-sm text-green-700">
                        <i class="fa fa-info-circle mr-1"></i>
                        å¡«å¯«å®Œé«”æº«æ•¸æ“šå¾Œï¼Œè«‹å‘ä¸‹æ»¾å‹•æŸ¥çœ‹ä¿å­˜æŒ‰éˆ•
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-thermometer-half text-red-500 mr-1"></i>ä½“æ¸©
                        </label>
                        <div class="relative">
                            <input type="number" id="temp-value" placeholder="36.5" class="input-field pr-8" min="30" max="45" step="0.1">
                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">Â°C</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fa fa-map-marker text-blue-500 mr-1"></i>æµ‹é‡éƒ¨ä½
                        </label>
                        <select id="temp-location" class="input-field">
                            <option value="è…‹ä¸‹">è…‹ä¸‹</option>
                            <option value="å£è…”">å£è…”</option>
                            <option value="ç›´è‚ ">ç›´è‚ </option>
                            <option value="è€³æ¸©">è€³æ¸©</option>
                            <option value="é¢æ¸©">é¢æ¸©</option>
                        </select>
                    </div>
                </div>
                <div class="bg-orange-50 p-3 rounded-lg mb-4">
                    <div class="flex items-center">
                        <i class="fa fa-info-circle text-orange-500 mr-2"></i>
                        <span class="text-sm text-orange-700">ä½“æ¸©è¯„ä¼°ï¼š</span>
                        <span id="temp-assessment" class="text-sm font-medium text-orange-800 ml-2">è¯·è¾“å…¥æ•°æ®</span>
                    </div>
                </div>
            </div>

            <!-- é€šç”¨ä¿¡æ¯ -->
            <div class="space-y-4">
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fa fa-info-circle text-blue-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                è«‹å¡«å¯«å®Œæ•¸æ“šå¾Œï¼Œå‘ä¸‹æ»¾å‹•æŸ¥çœ‹ã€Œä¿å­˜è¨­å‚™æ•¸æ“šã€æŒ‰éˆ•
                            </p>
                        </div>
                    </div>
                </div>
                <div>
                    <label class="block text-base mb-2">æµ‹é‡æ—¶é—´</label>
                    <input type="datetime-local" id="device-time" class="input-field">
                </div>
                <div>
                    <label class="block text-base mb-2">å¤‡æ³¨</label>
                    <textarea id="device-notes" placeholder="ä¾‹å¦‚ï¼šé¤åæµ‹é‡ã€è¿åŠ¨åæµ‹é‡ç­‰" class="input-field" rows="3"></textarea>
                </div>
                
                <!-- ä¿®å¾©å¾Œçš„ä¿å­˜æŒ‰éˆ• -->
                <button onclick="testSave()" class="w-full py-4 bg-primary text-white rounded-xl text-lg font-bold hover:bg-primary/90 transition-colors shadow-lg border-2 border-blue-400">
                    <i class="fa fa-save mr-2"></i> ä¿å­˜è®¾å¤‡æ•°æ®
                </button>
            </div>
        </div>

        <!-- æ¸¬è©¦çµæœ -->
        <div class="card">
            <h2 class="text-xl font-semibold mb-4">æ¸¬è©¦çµæœ</h2>
            <div id="test-results" class="bg-gray-50 p-4 rounded text-sm font-mono"></div>
        </div>
    </div>

    <script>
        let currentDeviceTab = 'bp';

        function switchDeviceTab(device) {
            currentDeviceTab = device;
            
            // æ›´æ–°æ ‡ç­¾é¡µæ ·å¼
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                tab.classList.remove('bg-white', 'text-blue-600', 'shadow-sm');
                tab.classList.add('text-gray-600');
            });
            
            const activeTab = document.getElementById(`tab-${device}`);
            if (activeTab) {
                activeTab.classList.remove('text-gray-600');
                activeTab.classList.add('bg-white', 'text-blue-600', 'shadow-sm');
            }
            
            // æ˜¾ç¤º/éšè—å¯¹åº”çš„è¡¨å•
            document.querySelectorAll('.device-form').forEach(form => {
                form.classList.add('hidden');
            });
            
            const activeForm = document.getElementById(`device-${device}`);
            if (activeForm) {
                activeForm.classList.remove('hidden');
            }
        }

        function testSave() {
            const systolic = parseInt(document.getElementById('bp-systolic')?.value);
            const diastolic = parseInt(document.getElementById('bp-diastolic')?.value);
            const pulse = parseInt(document.getElementById('bp-pulse')?.value);
            const time = document.getElementById('device-time')?.value || new Date().toISOString().slice(0, 16);
            const notes = document.getElementById('device-notes')?.value;
            
            let result = 'âœ… ä¿å­˜æŒ‰éˆ•ä¿®å¾©æ¸¬è©¦æˆåŠŸï¼\n\n';
            result += `ç•¶å‰é¸ä¸­çš„è¨­å‚™ï¼š${currentDeviceTab}\n`;
            result += `æ¸¬é‡æ™‚é–“ï¼š${time}\n`;
            result += `å‚™è¨»ï¼š${notes || 'ç„¡'}\n\n`;
            
            if (currentDeviceTab === 'bp') {
                if (systolic && diastolic && pulse) {
                    result += `è¡€å£“æ•¸æ“šï¼š${systolic}/${diastolic} mmHgï¼Œè„ˆæï¼š${pulse} bpm\n`;
                    result += 'âœ… æ•¸æ“šå®Œæ•´ï¼Œå¯ä»¥ä¿å­˜\n\n';
                } else {
                    result += 'âš ï¸ è¡€å£“æ•¸æ“šä¸å®Œæ•´\n\n';
                }
            }
            
            result += 'ğŸ‰ ä¿å­˜æŒ‰éˆ•ç¾åœ¨å¯è¦‹ä¸”å¯é»æ“Šï¼\n';
            result += 'ğŸ“± åœ¨ä¸»é é¢ä¸­ï¼Œè«‹å‘ä¸‹æ»¾å‹•æŸ¥çœ‹ä¿å­˜æŒ‰éˆ•';
            
            document.getElementById('test-results').innerHTML = result.replace(/\n/g, '<br>');
        }

        // é é¢åŠ è¼‰å®Œæˆå¾Œè¨­ç½®é»˜èªæ™‚é–“
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const timeString = now.toISOString().slice(0, 16);
            document.getElementById('device-time').value = timeString;
        });
    </script>
</body>
</html>

