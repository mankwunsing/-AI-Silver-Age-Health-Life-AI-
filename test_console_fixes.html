<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>控制台错误修复测试</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // 抑制 Tailwind CSS 生產環境警告
        (function() {
            const originalWarn = console.warn;
            console.warn = function(...args) {
                const message = args[0];
                if (typeof message === 'string' && message.includes('cdn.tailwindcss.com should not be used in production')) {
                    return; // 忽略 Tailwind CSS 生產環境警告
                }
                originalWarn.apply(console, args);
            };
        })();
    </script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">控制台错误修复测试</h1>
        
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4">修复内容</h2>
            <ul class="space-y-2">
                <li class="flex items-center">
                    <span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>
                    <span>修复了 <code class="bg-gray-100 px-2 py-1 rounded">displayScientificHealthReport</code> 函数名错误</span>
                </li>
                <li class="flex items-center">
                    <span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>
                    <span>优化了 Tailwind CSS 警告抑制逻辑</span>
                </li>
            </ul>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-semibold mb-4">测试按钮</h2>
            <button onclick="testFunctionCall()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                测试函数调用
            </button>
            <button onclick="testWarningSuppression()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 ml-4">
                测试警告抑制
            </button>
        </div>

        <div id="test-results" class="mt-6"></div>
    </div>

    <script>
        // 模拟 displayProfessionalHealthReport 函数
        function displayProfessionalHealthReport(report) {
            console.log('✅ displayProfessionalHealthReport 函数调用成功:', report);
            document.getElementById('test-results').innerHTML = `
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
                    <strong>成功!</strong> displayProfessionalHealthReport 函数调用正常
                </div>
            `;
        }

        // 测试函数调用
        function testFunctionCall() {
            try {
                // 模拟原来的错误调用
                const mockReport = {
                    scientificAssessment: { score: 85, grade: 'good' },
                    aiAnalysis: { recommendations: ['保持良好习惯'] },
                    timestamp: new Date().toISOString()
                };
                
                displayProfessionalHealthReport(mockReport);
            } catch (error) {
                console.error('❌ 函数调用失败:', error);
                document.getElementById('test-results').innerHTML = `
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                        <strong>错误!</strong> ${error.message}
                    </div>
                `;
            }
        }

        // 测试警告抑制
        function testWarningSuppression() {
            console.warn('cdn.tailwindcss.com should not be used in production');
            console.warn('这是一个正常的警告');
            
            document.getElementById('test-results').innerHTML = `
                <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded">
                    <strong>测试完成!</strong> 请检查控制台，Tailwind CSS 警告应该被抑制
                </div>
            `;
        }

        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('✅ 测试页面加载完成');
            console.log('🔧 修复内容:');
            console.log('1. 修复了 displayScientificHealthReport 函数名错误');
            console.log('2. 优化了 Tailwind CSS 警告抑制逻辑');
        });
    </script>
</body>
</html>