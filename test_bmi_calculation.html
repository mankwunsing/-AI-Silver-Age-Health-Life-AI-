<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMIè‡ªåŠ¨è®¡ç®—åŠŸèƒ½æµ‹è¯•</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">BMIè‡ªåŠ¨è®¡ç®—åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">BMIè®¡ç®—å™¨</h2>
            <form class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">èº«é«˜ (cm)</label>
                        <input type="number" id="test-height" placeholder="ä¾‹å¦‚ï¼š170" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" oninput="calculateTestBMI()">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ä½“é‡ (kg)</label>
                        <input type="number" id="test-weight" placeholder="ä¾‹å¦‚ï¼š65" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" oninput="calculateTestBMI()">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">BMI (è‡ªåŠ¨è®¡ç®—)</label>
                    <input type="number" id="test-bmi" placeholder="å°†è‡ªåŠ¨è®¡ç®—" class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50" readonly>
                    <div id="test-bmi-category" class="text-sm mt-1"></div>
                </div>
            </form>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">æµ‹è¯•æŒ‰é’®</h2>
            <div class="space-x-4">
                <button onclick="testBMICalculation()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                    æµ‹è¯•BMIè®¡ç®—
                </button>
                <button onclick="testBMICategories()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">
                    æµ‹è¯•BMIåˆ†ç±»
                </button>
                <button onclick="fillSampleData()" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded">
                    å¡«å……ç¤ºä¾‹æ•°æ®
                </button>
            </div>
        </div>

        <div id="test-results" class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">æµ‹è¯•ç»“æœ</h2>
            <div id="results-content" class="text-gray-600">
                è¾“å…¥èº«é«˜å’Œä½“é‡ï¼Œæˆ–ç‚¹å‡»æµ‹è¯•æŒ‰é’®...
            </div>
        </div>
    </div>

    <script>
        /**
         * è·å–BMIåˆ†ç±»
         */
        function getBMICategory(bmi) {
            if (!bmi) return 'æœªè®¡ç®—';
            const bmiValue = parseFloat(bmi);
            if (bmiValue < 18.5) return 'åç˜¦';
            if (bmiValue < 24) return 'æ­£å¸¸';
            if (bmiValue < 28) return 'åèƒ–';
            return 'è‚¥èƒ–';
        }

        /**
         * BMIè‡ªåŠ¨è®¡ç®—å‡½æ•°
         */
        function calculateTestBMI() {
            const height = parseFloat(document.getElementById('test-height')?.value);
            const weight = parseFloat(document.getElementById('test-weight')?.value);
            const bmiInput = document.getElementById('test-bmi');
            const bmiCategory = document.getElementById('test-bmi-category');
            
            if (height && weight && height > 0 && weight > 0) {
                // BMI = ä½“é‡(kg) / èº«é«˜(m)Â²
                const heightInMeters = height / 100;
                const bmi = weight / (heightInMeters * heightInMeters);
                
                // è®¾ç½®BMIå€¼ï¼ˆä¿ç•™1ä½å°æ•°ï¼‰
                bmiInput.value = bmi.toFixed(1);
                
                // æ˜¾ç¤ºBMIåˆ†ç±»
                const category = getBMICategory(bmi);
                let categoryColor = '';
                
                if (bmi < 18.5) {
                    categoryColor = 'text-blue-600';
                } else if (bmi < 24) {
                    categoryColor = 'text-green-600';
                } else if (bmi < 28) {
                    categoryColor = 'text-yellow-600';
                } else {
                    categoryColor = 'text-red-600';
                }
                
                bmiCategory.innerHTML = `<span class="${categoryColor} font-medium">BMIåˆ†ç±»: ${category}</span>`;
            } else {
                bmiInput.value = '';
                bmiCategory.innerHTML = '';
            }
        }

        /**
         * æµ‹è¯•BMIè®¡ç®—
         */
        function testBMICalculation() {
            const resultsDiv = document.getElementById('results-content');
            
            const testCases = [
                { height: 170, weight: 65, expected: 22.5 },
                { height: 175, weight: 80, expected: 26.1 },
                { height: 160, weight: 50, expected: 19.5 },
                { height: 180, weight: 90, expected: 27.8 }
            ];

            let results = '<div class="space-y-3">';
            
            testCases.forEach((testCase, index) => {
                const heightInMeters = testCase.height / 100;
                const calculatedBMI = testCase.weight / (heightInMeters * heightInMeters);
                const isCorrect = Math.abs(calculatedBMI - testCase.expected) < 0.1;
                
                results += `
                    <div class="border rounded p-3">
                        <h4 class="font-medium mb-2">æµ‹è¯•æ¡ˆä¾‹ ${index + 1}</h4>
                        <p class="text-sm">èº«é«˜: ${testCase.height}cm, ä½“é‡: ${testCase.weight}kg</p>
                        <p class="text-sm">è®¡ç®—BMI: ${calculatedBMI.toFixed(1)}, æœŸæœ›: ${testCase.expected}</p>
                        <p class="text-sm ${isCorrect ? 'text-green-600' : 'text-red-600'}">
                            ${isCorrect ? 'âœ… è®¡ç®—æ­£ç¡®' : 'âŒ è®¡ç®—é”™è¯¯'}
                        </p>
                    </div>
                `;
            });
            
            results += '</div>';
            resultsDiv.innerHTML = results;
        }

        /**
         * æµ‹è¯•BMIåˆ†ç±»
         */
        function testBMICategories() {
            const resultsDiv = document.getElementById('results-content');
            
            const testCases = [
                { bmi: 17.5, expected: 'åç˜¦' },
                { bmi: 22.0, expected: 'æ­£å¸¸' },
                { bmi: 25.5, expected: 'åèƒ–' },
                { bmi: 30.0, expected: 'è‚¥èƒ–' }
            ];

            let results = '<div class="space-y-3">';
            
            testCases.forEach((testCase, index) => {
                const category = getBMICategory(testCase.bmi);
                const isCorrect = category === testCase.expected;
                
                results += `
                    <div class="border rounded p-3">
                        <h4 class="font-medium mb-2">æµ‹è¯•æ¡ˆä¾‹ ${index + 1}</h4>
                        <p class="text-sm">BMI: ${testCase.bmi}</p>
                        <p class="text-sm">åˆ†ç±»: ${category}, æœŸæœ›: ${testCase.expected}</p>
                        <p class="text-sm ${isCorrect ? 'text-green-600' : 'text-red-600'}">
                            ${isCorrect ? 'âœ… åˆ†ç±»æ­£ç¡®' : 'âŒ åˆ†ç±»é”™è¯¯'}
                        </p>
                    </div>
                `;
            });
            
            results += '</div>';
            resultsDiv.innerHTML = results;
        }

        /**
         * å¡«å……ç¤ºä¾‹æ•°æ®
         */
        function fillSampleData() {
            document.getElementById('test-height').value = '170';
            document.getElementById('test-weight').value = '65';
            calculateTestBMI();
            
            const resultsDiv = document.getElementById('results-content');
            resultsDiv.innerHTML = `
                <div class="text-blue-600">
                    <h3 class="font-semibold mb-2">ğŸ“ ç¤ºä¾‹æ•°æ®å·²å¡«å……</h3>
                    <p>èº«é«˜: 170cm, ä½“é‡: 65kg</p>
                    <p class="text-sm mt-2">BMIå°†è‡ªåŠ¨è®¡ç®—å¹¶æ˜¾ç¤ºåˆ†ç±»</p>
                </div>
            `;
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        document.addEventListener('DOMContentLoaded', function() {
            console.log('BMIè‡ªåŠ¨è®¡ç®—åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
        });
    </script>
</body>
</html>
